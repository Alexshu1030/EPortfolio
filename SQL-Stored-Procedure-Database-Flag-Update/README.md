# SQL Stored Procedure Database Flag Update

This [SQL Stored Procedure](SQL-Artifact.sql) was created for a back end update fix during my co-op work term on October 19, 2021.

## Artifact Story

This stored procedure was created for the purpose of continually updating the users in the database to accurately describe when they are inactive based on the condition they have not logged in for at least 120 days as well as update their profile based on a special attribute (obscured for confidentiality). There was an issue where notification emails were being sent to users considered inactive by the previously described metric; these users are only supposed to be sent emails relating to account recovery such as password reset. Rather than checking every time a notification is being sent if the user it is being sent to is considered active using the logic previously described, I recognized it would be more efficient to set a flag to definitively describe if a user is active or not and update it once a day.  In order to accomplish this, I had to create a stored procedure to update this flag and a correlated SQL job to run it every day. I discussed this solution with my teammates and the database architect to confirm we should address this issue in this way; they agreed with this solution and it was promptly implemented. Through this experience, I have learned some techniques and considerations that should be addressed when designing solutions for database updates and maintenance. If I were to do this again, I would have liked to consider more places throughout the database where similar efficiency improvements could be made.
